<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'amateur d'électronique</title>
    <link rel="stylesheet" href="site_web_css.css">
</head>
<body>

<header>
    <h1>L'amateur d'électronique</h1>
    <nav>
        <ul>
            <li><a href="page_accueil.html">Présentation</a></li>
            <li><a href="projets.html">Projets</a></li>
            <li><a href=https://www.youtube.com/@L_amateur_d_electronique>YouTube</a></li>
        </ul>
    </nav>
</header>


<!-- ----- Informations ----- -->
<section id="projets" class="section">
    <h2>Filo : le robot filoguidé</h2>

    <h3>Dans cette rubrique, nous vous parlerons du projet FILO dont son nom est tiré de la technique utilisée pour guider le robot (le filoguidage). Le but de ce projet est de créer un petit robot mobile capable de se déplacer en totale autonomie en suivant une piste tracée par un conducteur électrique. Dans notre cas, nous serons à FO = 88 kHz. </h3>
    <img src="filo_guide.jpg" alt="Robot suiveur de ligne" width="700" height=auto>



    <p>FILO utilise un asservissement proportionnel pour suivre le fil au sol. Les deux bobines à l’avant comparent l’intensité du signal qu’elles captent : si le robot s’écarte d’un côté, l’écart entre les signaux augmente. Le système ajuste alors automatiquement la vitesse des moteurs pour le recentrer. Ainsi, FILO corrige sa trajectoire en temps réel et reste parfaitement aligné sur le fil. </p>
    <img src="filo.jpg" alt="Robot suiveur de ligne" width="700" height=auto>

 <!-- ----- Filtrage du signal ----- -->
    <h2>Le filtrage du signal</h2>
    <p>
        Pour permettre au microcontrôleur de lire correctement le signal, il est nécessaire de le lisser. 
        L’objectif est d’obtenir une valeur stable, ou « continue », à partir d’un signal potentiellement bruité ou variable. 
        Pour cela, nous utilisons un <strong>filtre passe-bas</strong>, qui permet d’extraire la valeur moyenne du signal.
    </p>
    <img src="montage2.jpg" alt="Robot suiveur de ligne">
    <h3>1. Définir le temps de réponse souhaité</h3>
    <p>
        Le temps de réponse du système dépend directement de la fréquence de coupure du filtre. 
        La relation entre les deux est la suivante :
    <code>t<sub>rép</sub> = 2,2 / f<sub>c</sub></code>
    
        Nous avons choisi un temps de réponse de <strong>1 ms</strong> afin que le système soit suffisamment réactif.
    </p>
    <h3>2. Calculer la fréquence de coupure</h3>
    <p>
        À partir du temps de réponse choisi :
    </p>
    <p><code>f<sub>c</sub> = 0,35 / 1 ms = 350 Hz</code></p>

    <h3>3. Dimensionner le filtre RC</h3>
    <p>
        Pour un filtre passe-bas simple, la fréquence de coupure est donnée par :
    </p>
    <p><code>f<sub>c</sub> = 1 / (2πRC)</code></p>
    <p>
        On en déduit donc :
    </p>
    <p><code>RC = 1 / (2π × f<sub>c</sub>)</code></p>
    <p>
        Il suffit ensuite de choisir une combinaison de résistance et de condensateur respectant cette valeur RC.
    </p>
    <h3>4. Câbler le filtre</h3>
    <p>
        Une fois les composants sélectionnés, le filtre est monté avec une résistance en série suivie d’un condensateur relié à la masse. 
        Ce montage permet d’obtenir un signal lissé, prêt à être lu par le microcontrôleur.
    </p>

    <h3>Signal redressé</h3>
    <img src="signal_redresse1.jpg" alt="Robot suiveur de ligne">
    <p>En sortie de ce montage, on obtient la valeur moyenne du signal, soit (Umax/π). <br>
    On va maintenant pouvoir dupliquer notre montage dans le but de réaliser l’asservissement du robot.</p>

    <h2>Montage électronique du module capteur</h2>
    <img src="montage1_fini.jpg" alt="Robot suiveur de ligne">
    <p>Pour étendre la capacité de détection du système, il est nécessaire de dupliquer la première partie du montage afin d’intégrer une seconde bobine. Cette étape permet de capter davantage de signaux et d’améliorer la performance globale du dispositif.
    Ensuite, un amplificateur non inverseur doit être ajouté pour fournir une tension de 3,3 V. Cette amplification garantit une lecture précise des signaux provenant des bobines et assure que le robot pourra interpréter correctement les données lors de sa programmation. Chaque étape du montage est conçue pour faciliter la détection et l’exploitation optimale des informations, contribuant ainsi à la fiabilité et à l’efficacité du système.</p>

    <h2>Assemblage du robot</h2>

    <p>Nous passons ensuite à l’assemblage des roues du robot FiLo. Dans cette étape, le schéma de câblage est présenté en détail, en expliquant comment chaque composant est connecté pour permettre le déplacement du robot.<p>
    <img src="schema_filo_brut.jpg" alt="Robot suiveur de ligne">
    <p>Dans cette étape, nous avons assemblé les composants nécessaires pour permettre au robot de se déplacer sur la piste. Pour ce faire, nous avons utilisé deux moteurs de balayage simples, une source d’alimentation adaptée, ainsi qu’un système de commande motrice optimisé.<br>
    Pour alimenter les différents composants du système, nous avons choisi une alimentation constituée de quatre piles NiMH AAA rechargeables (1,2 V chacune), offrant une tension totale de 4,8 V. Ce choix garantit que chaque composant reçoit la tension appropriée pour fonctionner correctement et de manière fiable.<br>
    Ce choix nous permet de répondre aux besoins spécifiques en tension de chaque composant :<p>
    <ul>
        <li>La carte driver DRI0044-A </li>
        <li>Le microcontrôleur MSP430G2553</li>
        <li>Moteurs DC-DC</li>
    </ul>

    <img src="carte_moteur.jpg" alt="Robot suiveur de ligne">

    <h3>La carte driver DRI0044-A et le microcontrôleur fonctionnent sous une tension de 3,3 V, tandis que les moteurs sont alimentés en 5 V.</h3>
    <p>Afin d’éviter l’utilisation de deux sources d’alimentation distinctes, nous avons intégré un convertisseur DC-DC LE33ABD. Ce convertisseur nous permet de passer de 5,2V à 3,3V, garantissant ainsi une alimentation stable et simplifiée pour l’ensemble du système.</p>
    <img src="transistor_mos.jpg" alt="Robot suiveur de ligne">


 <!-- ----- L'asservissement du robot ----- -->
    <h2>L'asservissent du robot</h2>
    <p>Les deux bobines, placées de part et d’autre à l’avant du robot, captent l’intensité du signal provenant du fil. Cette mesure permet de déterminer si le robot est correctement centré ou s’il dévie vers la gauche ou la droite. En comparant les signaux détectés par chaque bobine, on obtient ainsi une « erreur » de position.<br>
    C’est cette erreur que l’asservissement proportionnel utilise : plus le déséquilibre entre les deux bobines est important, plus la vitesse des moteurs est ajustée pour recentrer le robot. <br> Par exemple, si la bobine gauche reçoit un signal plus fort que la droite, le robot corrige sa trajectoire en tournant légèrement à droite, et inversement.</p>   
    <img src="pid.jpg" alt="Robot suiveur de ligne" width="600" height=auto>
    <p>Le module utilise un composant L298N intégré, capable de gérer deux moteurs indépendants. Il fonctionne grâce à la logique suivante :<br>
    Chaque moteur est contrôlé par deux entrées qui déterminent le sens de rotation. On peut contrôler la vitesse avec un signal PWM (modulation de largeur d’impulsion).</p> <br>

<!-- ----- Le micro msp ----- -->
    <h3>Microcontrôleur </h3>
    <p>Afin de pouvoir contrôler le robot, on utilise le MSP430G2553. C'est un microcontrôleur 16 bits à très faible consommation qui est parfaitement adapté aux projets robotiques intégrant capteurs et actionneurs. Il permet de traiter efficacement les signaux des capteurs et de commander des moteurs ou autres dispositifs tout en optimisant l’autonomie du système.
    </p>
    <img src="micro_msp.jpg" alt="Robot suiveur de ligne">
    <h3>Comment contrôler la vitesse des moteurs DC-DC ?</h3>
    <p>Pour modifier la vitesse de nos moteurs, on va envoyer un signal PWM (Pulse Width Modulation) en modifiant le rapport cyclique du signal carré. Une augmentation du rapport cyclique permet d’accroître la vitesse, tandis qu’une diminution la réduit. Ainsi nous pourrons gérer la vitesse de rotation des roues afin de contrôler et d'asservir notre robot filoguidé.</p>
    <img src="pwm.jpg" alt="Robot suiveur de ligne">
    <p>Ensuite, il ne reste qu'à réaliser le code en y associant les bobines "capteurs" et nos moteurs "actionneurs" afin de pouvoir rendre notre robot fonctionnel et autonome</p>

    <h2>Programmation du robot filoguidé</h2>
    <h3>Étape 1 : Récupération des données des amplificateurs</h3>
    <p>
    Nous avons connecté les sorties du deuxième amplificateur opérationnel aux broches analogiques de la carte, déclarées comme <strong>A0</strong> et <strong>A4</strong>. Ensuite, nous avons créé des variables pour stocker les valeurs récupérées par les bobines et les avons lues à partir des broches analogiques.
    </p>

    <pre><code>// Exemple en Arduino
    int valeurBobine1 = analogRead(A0);
    int valeurBobine2 = analogRead(A4);
    </code></pre>

    <h3>Étape 2 : Programmation de la carte Dual Motor Driver TB6612</h3>
    <p>
    Nous avons utilisé les broches PWM pour contrôler les moteurs : <strong>PWM1</strong> sur <strong>P1_2</strong> et <strong>PWM2</strong> sur <strong>P1_6</strong>. Le sens des moteurs est contrôlé par des broches numériques, et on applique <strong>0</strong> ou <strong>1</strong> pour définir la direction de rotation.<br>
    </p>

    <pre><code>// Exemple en Arduino
    digitalWrite(pinSensMoteur1, 1); // Moteur 1 tourne dans un sens
    digitalWrite(pinSensMoteur2, 0); // Moteur 2 tourne dans l'autre sens
    analogWrite(PWM1, vitesse);      // contrôle de la vitesse du moteur 1
    analogWrite(PWM2, vitesse);      // contrôle de la vitesse du moteur 2
    </code></pre>

<!-- ----- Programmation et vidéo ----- -->
    <h2>Pour visualiser le résultat final, voici une vidéo</h2>

    <div class="project-card">
        <!-- Robot suiveur de ligne -->
        <a class="project-card" href="https://www.youtube.com/shorts/70cZsBATUMQ" target="_blank">
            <img src="https://i.ytimg.com/vi/70cZsBATUMQ/oardefault.jpg?sqp=-oaymwEoCJUDENAFSFqQAgHyq4qpAxcIARUAAIhC2AEB4gEKCBgQAhgGOAFAAQ==&rs=AOn4CLBpO7WmVY22GI3imF3Ep55LEhwo1A" alt="Robot filoguidé">
            <h3>Robot filoguidé</h3>
            <p>Voir la vidéo ➜</p>
        </a>
    </div>


<!-- ----- FOOTER ----- -->
<footer>
    <p>© <?php echo date("Y"); ?> - L'amateur d'électronique</p>
</footer>

</body>

<script>
const scrollAmount = 120;

document.querySelectorAll('.scroll-left').forEach(btn => {
    btn.addEventListener('click', () => {
        const submenu = btn.nextElementSibling;
        submenu.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
    });
});

document.querySelectorAll('.scroll-right').forEach(btn => {
    btn.addEventListener('click', () => {
        const submenu = btn.previousElementSibling;
        submenu.scrollBy({ left: scrollAmount, behavior: 'smooth' });
    });
});
</script>
</html>
